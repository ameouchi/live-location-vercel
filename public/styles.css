:root {
  --ui:#0b1a2b; --bg:#ffffff; --acc:#f3f5f8; --btn:#0f62fe; --btn2:#5c6bc0; --danger:#e63946;
  --chip:#ffffff; --chip-border:#d6d9df;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:var(--ui);
  background: var(--bg);
}

/* Map */
#map{ position:absolute; inset: 0 0 0 260px; filter: invert(1) hue-rotate(180deg); }

/* Sidebar (desktop) */
#sidebar{
  position:absolute; inset:0 auto 0 0; width:260px; background:var(--bg);
  border-right:1px solid #e6e9ef; padding:12px; overflow:auto; z-index:998;
  display:flex; flex-direction:column; gap:12px;
}

h3{ margin:2px 0 6px; font-size:16px; }
.group{ background:#fff; border:1px solid #e6e9ef; border-radius:12px; padding:12px; }
.row{ display:flex; gap:8px; }
.row>*{ flex:1; }

input[type="text"]{
  width:100%; padding:12px 12px; border:1px solid #d6d9df; border-radius:10px; font-size:14px;
}

button{
  padding:12px 14px; border-radius:12px; border:1px solid #cfd4dc; background:#fff; cursor:pointer;
  font-weight:600; font-size:14px; line-height:1; touch-action:manipulation;
}
button:active{ transform: translateY(1px); }
.primary{ background:var(--btn); color:#fff; border-color: var(--btn); }
.alt     { background:var(--btn2); color:#fff; border-color: var(--btn2); }
.danger  { background:var(--danger); color:#fff; border-color: var(--danger); }
.ghost   { background:#fff; color:var(--ui); border:1px solid #cfd4dc; }
.hint{ font-size:12px; color:#667; margin-top:6px; }

#peopleList{ list-style:none; padding:0; margin:6px 0 0; max-height:140px; overflow:auto; }
#peopleList li{ font-size:13px; padding:6px 2px; border-bottom:1px dashed #edf0f4; }

/* Floating map chips */
.chip {
  position:absolute; top:12px; left:12px; display:flex; gap:8px; z-index:999;
}
.chip button{
  background:var(--chip); border:1px solid var(--chip-border); border-radius:999px; padding:10px 12px; font-size:13px;
}

.fab-stack {
  position:absolute; right:12px; bottom: calc(12px + env(safe-area-inset-bottom)); z-index:999;
  display:flex; flex-direction:column; gap:10px;
}
.fab {
  border-radius:999px; padding:12px 16px; background:#fff; border:1px solid #d6d9df; font-size:13px;
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
}

/* Bottom sheet for mobile */
#sheet {
  display:none;
  position: fixed; left:0; right:0; bottom:0;
  background: var(--bg);
  border-top-left-radius:16px; border-top-right-radius:16px;
  box-shadow: 0 -10px 30px rgba(0,0,0,.08);
  z-index: 1000;
  max-height: 70vh;
  transform: translateY(0);
  transition: transform .25s ease;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}
#sheetHeader{
  position:sticky; top:0; background:var(--bg); padding:8px 12px 6px; border-bottom:1px solid #eef2f6; border-top-left-radius:16px; border-top-right-radius:16px;
}
.drag{
  width:44px; height:5px; background:#d9dfe7; border-radius:999px; margin:6px auto 10px;
}
#sheetBody{ padding:10px 12px; overflow:auto; display:flex; flex-direction:column; gap:12px; }

.controlRow{
  display:grid; grid-template-columns: 1fr 1fr; gap:8px;
}
.controlRow .ghost{ font-weight:600; }

/* Mobile layout */
@media (max-width: 820px){
  #map{ inset: 0; }
  #sidebar{ display:none; }
  .chip{ top: 10px; left: 10px; right:auto; }
  .fab-stack{ right:10px; }
  #sheet{ display:block; }
}
